<!DOCTYPE html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Memory Game - Desk Duels</title>
    <link rel="stylesheet" href="css/base.css" />
    <link rel="stylesheet" href="css/components.css" />
    <link rel="stylesheet" href="css/games/memory-game.css" />
  </head>
  <body>
    <div class="top-controls">
      <button class="theme-toggle" aria-label="Toggle theme">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          class="theme-light-icon"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"
          />
        </svg>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          class="theme-dark-icon"
          style="display: none"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"
          />
        </svg>
        <span class="theme-text">Toggle Theme</span>
      </button>
      <button class="sound-toggle" aria-label="Toggle sound">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          class="sound-on-icon"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M15.536 8.464a5 5 0 010 7.072M12 8v8m3.536-11.536a8 8 0 010 14.142M9.364 5.364l-3.536 3.536H3a1 1 0 00-1 1v4.172a1 1 0 001 1h2.828l3.536 3.536a1 1 0 001.707-.707V6.07a1 1 0 00-1.707-.707z"
          />
        </svg>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          class="sound-off-icon"
          style="display: none"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"
          />
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"
          />
        </svg>
        <span class="sound-text">Toggle Sound</span>
      </button>
    </div>

    <div class="container game-page-container">
      <h1>Memory Game</h1>

      <div class="game-info-bar mb-2">
        <div id="player-1-score" class="score-display">Player 1: 0</div>
        <div id="turn-indicator" class="turn-display">Waiting for opponent...</div>
        <div id="player-2-score" class="score-display">Player 2: 0</div>
      </div>

      <div id="game-status" class="status mb-2">Connecting to game...</div>

      <div class="game-container">
        <!-- Cards will be generated here by JavaScript -->
      </div>

      <div class="button-container mt-2">
        <button id="play-again-btn" class="game-btn" style="display: none">Play Again</button>
        <a href="/index.html" class="game-btn secondary">Back to Games</a>
      </div>
    </div>
    <script src="/socket.io/socket.io.js"></script>
    <script>
      // Theme toggle functionality
      const themeToggle = document.querySelector(".theme-toggle");
      const lightIcon = document.querySelector(".theme-light-icon");
      const darkIcon = document.querySelector(".theme-dark-icon");
      const html = document.documentElement;

      // Check for saved theme preference
      const savedTheme = localStorage.getItem("theme") || "light";
      html.setAttribute("data-theme", savedTheme);
      updateThemeIcons(savedTheme);

      themeToggle.addEventListener("click", () => {
        const currentTheme = html.getAttribute("data-theme");
        const newTheme = currentTheme === "light" ? "dark" : "light";

        html.setAttribute("data-theme", newTheme);
        localStorage.setItem("theme", newTheme);
        updateThemeIcons(newTheme);
      });

      function updateThemeIcons(theme) {
        if (theme === "dark") {
          lightIcon.style.display = "none";
          darkIcon.style.display = "block";
        } else {
          lightIcon.style.display = "block";
          darkIcon.style.display = "none";
        }
      }

      // Sound toggle initialization (already handled in memory-game.js)
    </script>
    <script src="memory-game.js"></script>
  </body>
</html>
